<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Decoupled Drupal and Responsive VR</title>

		<meta name="description" content="Decouple Drupal and Responsive VR">
		<meta name="author" content="Stuart Clark">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

				<!-- Introduction -->
				<section>
					<h1>Decoupled Drupal and Responsive VR</h1>
					<p>
						<small>A presentation by <a href="http://realityloop.com/bio/stuart-clark">Stuart Clark</a> / <a href="http://twitter.com/Deciher">@Decipher</a></small>
					</p>
				</section>

				<!-- Teaser -->
				<section>

					<!-- Mobile -->
					<section>
						<h2>Mobile</h2>
						<img class="stretch" data-src="images/teaser--mobile.png" />
					</section>

					<!-- Desktop -->
					<section>
						<h2>Desktop</h2>
						<img class="stretch" data-src="images/teaser--desktop.png" />
					</section>

					<!-- Virtual Reality -->
					<section>
						<h2>Virtual Reality<strike style="color: grey">loop</strike></h2>
						<img class="stretch" data-src="images/teaser--vr.png" />
					</section>

				</section>

				<!-- Architecture / Technologies -->
				<section>

					<!-- Technologies -->
					<section>
						<h2>Technologies</h2>

						<table>
							<tbody>

								<!-- Server -->
								<tr class="fragment">
									<td>Server</td>
									<td colspan="2">Docksal</td>
								</tr>

								<!-- Backend -->
								<tr class="fragment">
									<td>Backend</td>
									<td>Contenta</td>
									<td>
										<ul>
											<li>Drupal 8</li>
											<li>JSON API</li>
										</ul>
									</td>
								</tr>

								<!-- Frontend -->
								<tr class="fragment">
									<td>Frontend</td>
									<td>Nuxt</td>
									<td>
										<ul>
											<li>Vue</li>
											<li>Waterwheel</li>
											<li>A-Frame</li>
										</ul>
									</td>
								</tr>

							</tbody>
						</table>
					</section>

					<!-- Architecture -->
					<section>
						<h2>Architecture</h2>
						<img class="stretch" data-src="images/architecture.svg" />
					</section>

				</section>

				<!-- Docksal -->
				<section>

					<!-- Overview -->
					<section>
						<h2>Docksal</h2>
						<h4><a href="https://docksal.io/">docksal.io</a></h4>

						<blockquote cite="https://docksal.io/#about" class="fragment">
							&ldquo;Docksal is a tool for defining and managing development
							environments. It brings together common tools, minimizes
							configuration, and ensures environment consistency throughout your
							continuous integration workflow.&rdquo;
						</blockquote>
						<p>
							<small class="fragment">TL;DR: Docker based development environment.</small>
						</p>
					</section>

					<!-- .docksal/docksal.yml -->
					<section>
						<h2>Docksal</h2>
						<h4><small><code>.docksal/docksal.yml</code></small></h4>

						<pre><code data-trim contenteditable>
version: "2.1"

services:
	cli:
		image: docksal/cli:1.2-php7

	web:
		labels:
			- io.docksal.virtual-host=api.${VIRTUAL_HOST}

	node:
		# Build the node service from a custom Dockerfile.
		build:
			context: ${PROJECT_ROOT}
			dockerfile: ${PROJECT_ROOT}/.docksal/services/node/Dockerfile
		volumes:
			# Project root volume
			- project_root:/var/www:rw,nocopy
		labels:
			- io.docksal.virtual-host=${VIRTUAL_HOST},*.${VIRTUAL_HOST}
			- io.docksal.project-root=${PROJECT_ROOT}
		dns:
			- ${DOCKSAL_DNS1}
			- ${DOCKSAL_DNS2}
		depends_on:
			- web
		ports:
			- "3000"
						</code></pre>
					</section>

					<!-- .docksal/services/node/Dockerfile -->
					<section>
							<h2>Docksal</h2>
							<h4><small><code>.docksal/services/node/Dockerfile</code></small></h4>

							<pre><code data-trim contenteditable>
# Use Node 6 as our base service.
FROM node:6

# Configure the services environemnt variables.
ENV HOST 0.0.0.0

# Set the working directory to our copied source WWW.
VOLUME ["/var/www"]
WORKDIR /var/www

# Set the NPM start script as our entry command.
CMD '/var/www/.docksal/services/www/entrypoint.sh'
							</code></pre>
						</section>

				</section>

				<!-- Contenta -->
				<section>

					<!-- Overview -->
					<section>
						<h2>Contenta</h2>
						<h4><a href="http://www.contentacms.org/">contentacms.org</a></h4>
						<blockquote cite="https://medium.com/@mateu.aguilo.bosch/contenta-makes-your-content-happy-6f76bbe0cdae#87d8" class="fragment">
							&ldquo;Contenta is a Drupal distribution that gives you modern API
							capabilities out-of-the box with JSON API.&rdquo;
						</blockquote>
						<p>
							<small class="fragment">TL;DR: Decoupled Drupal w/ JSON API.</small>
						</p>
					</section>

					<!-- Screenshot -->
					<section>
						<h2>Contenta</h2>
						<img class="stretch" data-src="images/contenta.png" />
					</section>

				</section>

				<!-- JSON API -->
				<section>

					<!-- Overview -->
					<section>
						<h2>JSON API</h2>
						<h4><a href="http://jsonapi.org/">jsonapi.org</a></h4>
						<blockquote cite="http://jsonapi.org/format/#introduction" class="fragment">
							&ldquo;JSON API is a specification for how a client should
							request that resources be fetched or modified, and how a server
							should respond to those requests.&rdquo;
						</blockquote>
						<p>
							<small class="fragment">TL;DR: Specification and method of communication.</small>
						</p>
					</section>

					<section>
						<h2>JSON API</h2>
						<h4><small><code>/api</code></small></h4>

						<pre><code class="json" data-trim contenteditable>
{
	"data": [],
	"links": {
		"self": "http:\/\/api.sc.docksal\/api",
		"block--block": "http:\/\/api.sc.docksal\/api\/block\/block",
		"comment_type--comment_type": "http:\/\/api.sc.docksal\/api\/comment_type\/comment_type",
		"consumer--consumer": "http:\/\/api.sc.docksal\/api\/consumer\/consumer",
		"editor--editor": "http:\/\/api.sc.docksal\/api\/editor\/editor",
		"entity_browser--entity_browser": "http:\/\/api.sc.docksal\/api\/entity_browser\/entity_browser",
		"field_config--field_config": "http:\/\/api.sc.docksal\/api\/field_config\/field_config",
		"field_storage_config--field_storage_config": "http:\/\/api.sc.docksal\/api\/field_storage_config\/field_storage_config",
		"file--file": "http:\/\/api.sc.docksal\/api\/file\/file",
		"filter_format--filter_format": "http:\/\/api.sc.docksal\/api\/filter_format\/filter_format",
		"image_style--image_style": "http:\/\/api.sc.docksal\/api\/image_style\/image_style",
		...
	}
}
						</code></pre>
					</section>

					<section>
						<h2>JSON API</h2>
						<h4><small><code>/api/node/photo</code></small></h4>

						<pre><code class="json" data-trim contenteditable>
{
	"data": [
		{
			"type": "node--photo",
			"id": "62c5ca9b-7620-4e5a-931f-f7717191ce6a",
			"attributes": {
				"nid": 1,
				"uuid": "62c5ca9b-7620-4e5a-931f-f7717191ce6a",
				"vid": 1,
				"langcode": "en",
				"status": true,
				"title": "Go Back",
				"created": 1508908727,
				"changed": 1508908766,
				"promote": true,
				"sticky": false,
				"revision_timestamp": 1508908766,
				"revision_log": null,
				"revision_translation_affected": true,
				"default_langcode": true,
				"path": null,
				"body": null
			},
			"relationships": {
				"type": {
					"data": {
						"type": "node_type--node_type",
						"id": "2110590f-fa21-4c21-aea6-09bbcb69a8bf"
					},
					...
	"links": {
		"self": "http://api.stuar.tc/api/node/photo"
	}
}
						</code></pre>
					</section>

					<section>
						<h2>JSON API</h2>
						<h4><small><code>/api/node/photo?fields[node--photo]=title,field_image&fields[file--file]=filename&include=field_image</code></small></h4>

						<pre><code class="json" data-trim contenteditable>
{
	"data": [
		{
			"type": "node--photo",
			"id": "62c5ca9b-7620-4e5a-931f-f7717191ce6a",
			"attributes": {
				"title": "Go Back"
			},
			"relationships": {
				"field_image": {
					"data": {
						"type": "file--file",
						"id": "bb2f116f-7d5b-4823-9870-e6e30675142f",
						"meta": {
							"alt": "Go Back",
							"title": "",
							"width": "2689",
							"height": "2016"
						}
					},
					"links": {
						"self": "http://api.stuar.tc/api/node/photo/62c5ca9b-7620-4e5a-931f-f7717191ce6a/relationships/field_image",
						"related": "http://api.stuar.tc/api/node/photo/62c5ca9b-7620-4e5a-931f-f7717191ce6a/field_image"
					}
				}
			},
			...
	"included": [
	{
		"type": "file--file",
		"id": "bb2f116f-7d5b-4823-9870-e6e30675142f",
		"attributes": {
			"filename": "1.jpg"
		},
		"links": {
			"self": "http://api.stuar.tc/api/file/file/bb2f116f-7d5b-4823-9870-e6e30675142f"
		}
	},
						</code></pre>
					</section>

				</section>

				<!-- Nuxt -->
				<section>
					<h2>Nuxt</h2>
					<h4><a href="https://nuxtjs.org">nuxtjs.org</a></h4>
					<blockquote cite="https://nuxtjs.org/guide#what-is-nuxt-js-" class="fragment">
						&ldquo;Nuxt.js is a framework for creating Universal Vue.js Applications.&rdquo;
					</blockquote>
					<p>
						<small class="fragment">TL;DR: Frontend webserver.</small>
					</p>
				</section>

				<!-- Vue -->
				<section>
					<h2>Vue</h2>
					<h4><a href="https://vuejs.org/">vuejs.org</a></h4>
					<div class="fragment">
						<blockquote cite="https://vuejs.org/v2/guide/#What-is-Vue-js">
							&ldquo;Vue (pronounced /vjuÀê/, like view) is a progressive
							framework for building user interfaces.&rdquo;
						</blockquote>
						<blockquote cite="https://vuejs.org/v2/guide/#What-is-Vue-js">
							&ldquo;The core library is focused on the view layer only, and is
							easy to pick up and integrate with other libraries or existing
							projects.&rdquo;
						</blockquote>
					</div>
					<p>
						<small class="fragment">TL;DR: Javascript framework.</small>
					</p>
				</section>

				<!-- Waterwheel -->
				<section>
					<h2>Waterwheel</h2>
					<h4><a href="https://github.com/acquia/waterwheel.js">github.com/acquia/waterwheel.js</a></h4>
					<blockquote cite="https://github.com/acquia/waterwheel.js#waterwheel" class="fragment">
						&ldquo;A generic JavaScript helper library to query and manipulate
						Drupal 8 via core REST.&rdquo;
					</blockquote>
					<p>
						<small class="fragment">TL;DR: Drupal 8 to JS authentication and communication.</small>
					</p>
				</section>

				<!-- A-Frame -->
				<section>
					<h2>A-Frame</h2>
					<h4><a href="https://aframe.io/">aframe.io</a></h4>
					<blockquote cite="https://github.com/acquia/waterwheel.js#waterwheel" class="fragment">
						&ldquo;A web framework for building virtual reality experiences.&rdquo;
					</blockquote>
					<p>
						<small class="fragment">TL;DR: Virtual Reality<strike style="color: grey">loop</strike> framework.</small>
					</p>
				</section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
